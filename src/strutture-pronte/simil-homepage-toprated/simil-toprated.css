@layer components {

    .spot-card-toprated[data-category="food"]    { --spot-tint: var(--cat-food); }
    .spot-card-toprated[data-category="culture"] { --spot-tint: var(--cat-culture); }
    .spot-card-toprated[data-category="nature"]  { --spot-tint: var(--cat-nature); }
    .spot-card-toprated[data-category="mystery"] { --spot-tint: var(--cat-mystery); }

    @keyframes pulse-rating {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.02); }
    }

    .spot-card-toprated {
        @apply relative flex rounded-2xl overflow-hidden shrink-0 w-full;
        @apply items-center;

        height: 110px;
        padding: 0;
        scroll-snap-align: start;
        transition: transform 0.18s ease, box-shadow 0.18s ease;

        @apply backdrop-blur-[22px] backdrop-saturate-170;
        border: 1px solid rgba(255, 255, 255, 0.32);
        background: linear-gradient(
                145deg,
                rgba(255, 255, 255, 0.18),
                rgba(255, 255, 255, 0.06)
        );

        box-shadow: 0 10px 26px rgba(0, 0, 0, 0.12);
    }

    .spot-card-toprated::before {
        content: "";
        position: absolute;
        inset: -10px;
        border-radius: 22px;
        z-index: 0;
        pointer-events: none;

        opacity: 1;
        transform: scale(1.02);
        filter: blur(8px) saturate(1.6);

        background:
                radial-gradient(
                        circle at 28% 18%,
                        rgba(255, 255, 255, 0.22) 0%,
                        rgba(255, 255, 255, 0.10) 28%,
                        transparent 55%
                ),
                radial-gradient(
                        circle,
                        transparent 0 70%,
                        rgba(var(--spot-tint) / 0.20) 73%,
                        rgba(var(--spot-tint) / 0.65) 82%,
                        rgba(var(--spot-tint) / 0.55) 100%
                );
    }

    .spot-card-toprated::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 16px;
        z-index: 1;
        pointer-events: none;

        box-shadow:
                inset 0 0 0 1px rgba(255, 255, 255, 0.26),
                inset 0 0 0 2px rgba(255, 255, 255, 0.10),
                0 0 0 2px rgba(var(--spot-tint) / 0.32);

        opacity: 0.95;
    }

    .spot-card-toprated > * {
        position: relative;
        z-index: 2;
    }

    .spot-card-toprated:active {
        transform: scale(0.985);
        box-shadow: 0 16px 32px rgba(0, 0, 0, 0.16);
    }

    .spot-card-toprated [data-slot="image"] {
        @apply w-24 h-24 overflow-hidden shrink-0 rounded-lg relative block ml-2;
        background: rgba(0,0,0,0.06);
        border: 1px solid rgba(255,255,255,0.20);
    }

    .spot-card-toprated [data-slot="image"] > img {
        @apply w-full h-full object-cover block;
        transition: transform 0.35s ease;
    }

    .spot-card-toprated:active [data-slot="image"] > img {
        transform: scale(1.03);
    }

    .spot-card-toprated [data-slot="distance"] {
        @apply absolute bottom-0 left-2 right-2 flex items-center justify-center gap-1.5 px-3 py-1.5;
        @apply backdrop-blur-[16px] backdrop-saturate-160;
        border-radius: 999px;

        background: rgba(0,0,0,0.45);
        border: 1px solid rgba(255,255,255,0.18);
        color: white;
    }

    .spot-card-toprated [data-slot="distance-text"] {
        @apply text-xs font-medium text-white;
        font-family: "Montserrat", sans-serif;
    }

    .spot-card-toprated [data-slot="info"]{
        @apply flex flex-col justify-between gap-1 px-1 pr-6 py-2 relative;
        flex: 1;
        min-width: 0;
        text-align: center;
        margin: 0 auto;
    }

    .spot-card-toprated [data-slot="title"]{
        @apply text-lg font-semibold uppercase leading-tight text-center w-full line-clamp-2 break-words;
        color: var(--color-text_color);
        line-height: 1.2;
        font-family: "Montserrat", sans-serif;
        letter-spacing: 0.06em;
    }

    .spot-card-toprated [data-slot="rating-row"]{
        @apply flex items-center justify-center w-full;
    }

    .spot-card-toprated [data-slot="rating-pill"] {
        @apply inline-flex items-center gap-1.5 px-4 py-2 rounded-full;
        @apply backdrop-blur-[14px] backdrop-saturate-150;

        background: rgba(255,255,255,0.55);
        border: 1.5px solid rgba(var(--spot-tint) / 0.32);
        box-shadow:
                0 10px 22px rgba(0,0,0,0.08),
                0 0 0 1px rgba(var(--spot-tint) / 0.16);

        transition: transform 0.18s ease;
        animation: pulse-rating 3s ease-in-out infinite;
    }

    .spot-card-toprated [data-slot="rating-pill"]:hover {
        transform: scale(1.05);
    }

    .spot-card-toprated [data-slot="rating-pill"]:active {
        transform: scale(0.95);
    }

    .spot-card-toprated [data-slot="rating-value"] {
        color: #222 !important;
        font-size: 1.15em;
        font-weight: 700;
        min-width: 2ch;
        margin-right: 0.3em;
    }

    .spot-card-toprated [data-slot="rating-star"] {
        @apply w-4 h-4;
    }

    .spot-card-toprated [data-slot="bookmark"] {
        @apply absolute grid place-items-center;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);

        width: 48px;
        height: 48px;
        border-radius: 14px;

        @apply backdrop-blur-[18px] backdrop-saturate-160;
        background: rgba(255, 255, 255, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.42);

        box-shadow:
                0 6px 16px rgba(0,0,0,0.14),
                inset 0 0 0 1px rgba(255,255,255,0.18);

        z-index: 20;
        transition: transform 0.15s ease;
        cursor: pointer;
    }

    .spot-card-toprated [data-slot="bookmark"]:active {
        transform: translateY(-50%) scale(0.96);
    }

    .spot-card-toprated [data-slot="bookmark"] .bookmark-icon {
        @apply w-9 h-9;
        filter: saturate(1.3) contrast(1.05);
    }

}
