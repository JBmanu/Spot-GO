@layer components {

    /* Saved spots */
    .spot-card-saved {
        @apply relative shrink-0 snap-start flex items-center justify-center;
        @apply w-40 h-40 rounded-[28px];
        @apply backdrop-blur-md backdrop-saturate-160;
        padding: 10px;
        overflow: hidden;
        border: 1.5px solid rgba(255, 255, 255, 0.35);
    }

    .spot-card-saved::before {
        content: "";
        @apply absolute inset-0 rounded-[28px] pointer-events-none;
        z-index: 1;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.28),
        inset 0 0 0 2px rgba(255, 255, 255, 0.10);
    }

    .spot-card-saved[data-category="food"] {
        --tint: var(--cat-food);
    }

    .spot-card-saved[data-category="culture"] {
        --tint: var(--cat-culture);
    }

    .spot-card-saved[data-category="nature"] {
        --tint: var(--cat-nature);
    }

    .spot-card-saved[data-category="mystery"] {
        --tint: var(--cat-mystery);
    }

    .spot-card-saved [data-category="pedestal"] {
        @apply absolute inset-0;
        z-index: 0;
        opacity: 1.0;
        transform: scale(1.05);
        filter: blur(2px) saturate(1.65);
    }

    .spot-card-saved[data-category] [data-category="pedestal"] {
        background: radial-gradient(
                circle at 35% 20%,
                rgba(255, 255, 255, 0.22) 0%,
                rgba(255, 255, 255, 0.10) 28%,
                transparent 55%
        ),
        radial-gradient(
                circle,
                transparent 0 72%,
                rgba(var(--tint) / 0.38) 80%,
                rgba(var(--tint) / 0.70) 85%,
                rgba(var(--tint) / 0.90) 100%
        );
    }

    .spot-card-saved[data-category] [data-category="pedestal"]::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 28px;
        pointer-events: none;
        background: radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, transparent 55%),
        repeating-linear-gradient(
                0deg,
                rgba(255, 255, 255, 0.04) 0px,
                rgba(255, 255, 255, 0.04) 1px,
                transparent 2px,
                transparent 6px
        );
        opacity: 0.08;
        mix-blend-mode: overlay;
    }

    .spot-card-saved [data-category="card"] {
        @apply relative z-2 flex flex-col w-full h-full rounded-[20px];
    }

    .spot-card-saved[data-category] [data-category="card"] {
        box-shadow: 0 0 0 1px rgba(var(--tint) / 0.15),
        0 10px 26px rgba(0, 0, 0, 0.14);
    }

    .spot-card-saved [data-category="media"] {
        @apply relative w-full h-[100px] overflow-hidden;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
    }

    .spot-card-saved [data-category="image"] {
        @apply w-full h-full object-cover;
    }

    .spot-card-saved [data-category="bookmark"] {
        @apply absolute top-0.5 right-0.5 grid place-items-center w-12 h-12 rounded-xl;
        width: 46px;
        height: 46px;
        border-radius: 14px;
        @apply backdrop-blur-[18px] backdrop-saturate-160;
        z-index: 10;
        background: rgba(255, 255, 255, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.42);
        box-shadow: 0 14px 14px rgba(0, 0, 0, 0.14),
        inset 0 0 0 2px rgba(255, 255, 255, 0.18);
    }

    .spot-card-saved [data-category="bookmark-icon"] {
        @apply w-9 h-9;
        filter: saturate(1.7);
    }

    .spot-card-saved [data-category="body"] {
        @apply relative h-10 flex-1 px-1 pt-1 pb-1 flex items-center justify-center text-center;
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
        overflow: hidden;
    }

    .spot-card-saved [data-category="body"]::before {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        background: linear-gradient(
                to bottom,
                rgba(255, 255, 255, 0.28) 0%,
                rgba(255, 255, 255, 0.10) 38%,
                transparent 70%
        );
    }

    .spot-card-saved [data-category="title"] {
        @apply text-[11px] font-semibold uppercase tracking-wider leading-tight text-text_color;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }


/*    Nearby Spots */
    .nearby-swipe {
        @apply overflow-visible;
        position: relative;
        z-index: 1;
    }

    .nearby-swipe-track {
        @apply flex flex-nowrap gap-4 overflow-x-auto px-4 pb-3 scroll-smooth snap-x snap-mandatory;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
    }

    .nearby-swipe-track::-webkit-scrollbar {
        display: none;
    }

    .nearby-swipe-track.is-dragging {
        @apply cursor-grabbing;
    }

    .spot-card-nearby {
        @apply relative shrink-0 snap-start flex items-center justify-center;
        width: 100%;
        max-width: 300px;
        aspect-ratio: 1.15 / 1;
        border-radius: 28px;
        padding: 10px;
        overflow: hidden;

        @apply backdrop-blur-md backdrop-saturate-160;
        border: 1.5px solid rgba(255, 255, 255, 0.35);
    }

    .spot-card-nearby::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 28px;
        pointer-events: none;
        z-index: 1;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.28),
        inset 0 0 0 2px rgba(255, 255, 255, 0.10);
    }

    .spot-card-nearby[data-category="food"] {
        --nearby-tint: var(--cat-food);
    }

    .spot-card-nearby[data-category="culture"] {
        --nearby-tint: var(--cat-culture);
    }

    .spot-card-nearby[data-category="nature"] {
        --nearby-tint: var(--cat-nature);
    }

    .spot-card-nearby[data-category="mystery"] {
        --nearby-tint: var(--cat-mystery);
    }

    .spot-card-nearby_pedestal {
        @apply absolute inset-0;
        z-index: 0;
        opacity: 1;
        transform: scale(1.1);
        filter: blur(6px) saturate(1.45);
    }

    .spot-card-nearby[data-category] .spot-card-nearby_pedestal {
        background: radial-gradient(
                circle at 35% 20%,
                rgba(255, 255, 255, 0.22) 0%,
                rgba(255, 255, 255, 0.10) 28%,
                transparent 55%
        ),
        radial-gradient(
                circle,
                transparent 0 72%,
                rgba(var(--nearby-tint) / 0.28) 74%,
                rgba(var(--nearby-tint) / 0.90) 82%,
                rgba(var(--nearby-tint) / 0.80) 100%
        );
    }

    .spot-card-nearby[data-category] .spot-card-nearby_pedestal::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 28px;
        pointer-events: none;
        background: radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, transparent 55%),
        repeating-linear-gradient(
                0deg,
                rgba(255, 255, 255, 0.04) 0px,
                rgba(255, 255, 255, 0.04) 1px,
                transparent 2px,
                transparent 6px
        );
        opacity: 0.08;
        mix-blend-mode: overlay;
    }

    .spot-card-nearby_card {
        @apply relative z-10 flex flex-col w-full h-full;
        border-radius: 22px;
        overflow: hidden;

        @apply backdrop-blur-[26px] backdrop-saturate-170;
        border: 1px solid rgba(255, 255, 255, 0.30);
        background: linear-gradient(
                145deg,
                rgba(255, 255, 255, 0.18),
                rgba(255, 255, 255, 0.06)
        );
    }

    .spot-card-nearby[data-category] .spot-card-nearby_card {
        box-shadow: 0 0 0 2px rgba(var(--nearby-tint) / 0.45),
        0 10px 26px rgba(0, 0, 0, 0.14);
    }

    .spot-card-nearby_media {
        @apply relative w-full overflow-hidden flex-none;
        height: 58%;
        background: rgba(0, 0, 0, 0.06);
        border-bottom: 1px solid rgba(255, 255, 255, 0.16);
    }

    .spot-card-nearby_image-wrap {
        @apply w-fit h-fit overflow-hidden;
    }

    .spot-card-nearby_image {
        @apply w-full h-full object-cover;
        transition: transform 0.4s ease;
    }

    .spot-card-nearby_card:active .spot-card-nearby_image {
        transform: scale(1.02);
    }

    .spot-card-nearby_bookmark {
        @apply absolute top-0 right-0 grid place-items-center;
        width: 48px;
        height: 48px;
        border-radius: 14px;

        @apply backdrop-blur-[18px] backdrop-saturate-160;
        background: rgba(255, 255, 255, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.42);

        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.14),
        inset 0 0 0 1px rgba(255, 255, 255, 0.18);

        z-index: 20;
        transition: transform 0.15s ease;
    }

    .spot-card-nearby_bookmark:active {
        transform: scale(0.96);
    }

    .spot-card-nearby__bookmark-icon {
        @apply w-9 h-9 object-contain;
        filter: saturate(1.7);
    }

    .spot-card-nearby_body {
        @apply relative flex-1 px-3 pt-3 flex flex-col;
        gap: 8px;

        padding-bottom: 3.2rem;

        border-top: 1px solid rgba(255, 255, 255, 0.18);
        background: linear-gradient(
                to bottom,
                rgba(255, 255, 255, 0.22),
                rgba(255, 255, 255, 0.46)
        );
    }

    .spot-card-nearby_body::before {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        background: linear-gradient(
                to bottom,
                rgba(255, 255, 255, 0.28) 0%,
                rgba(255, 255, 255, 0.10) 38%,
                transparent 70%
        );
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.30),
        inset 0 0 0 1px rgba(255, 255, 255, 0.14);
    }

    .spot-card-nearby[data-category] .spot-card-nearby_body {
        box-shadow: inset 0 0 0 1px rgba(var(--nearby-tint) / 0.10);
    }

    .spot-card-nearby_title {
        @apply text-[18px] font-semibold uppercase leading-tight text-center;
        font-family: "Montserrat", sans-serif;
        color: var(--color-text_color);

        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;

        letter-spacing: 0.06em;
    }

    .spot-card-nearby_meta-row {
        @apply flex items-center justify-between w-full;
        gap: 12px;

        position: absolute;
        left: 0;
        right: 0;

        bottom: 0.8rem;

        padding-inline: 0.75rem;
        z-index: 2;
    }

    .spot-card-nearby_meta {
        @apply text-xs flex items-center gap-2;
        color: var(--color-text_color);
        opacity: 0.85;
        font-family: "Montserrat", sans-serif;
    }

    .spot-card-nearby_meta-item {
        @apply flex items-center gap-1.5;
    }

    .spot-card-nearby_icon {
        @apply w-5 h-5;
        filter: saturate(2) contrast(1.2);
    }

    .spot-card-nearby_sep {
        opacity: 0.4;
    }

    .spot-card-nearby_distance,
    .spot-card-nearby_category {
        @apply text-xs font-medium tracking-[0.08em];
        font-family: "Montserrat", sans-serif;
        color: var(--color-text_color);
    }

    .spot-card-nearby_rating {
        @apply flex items-center justify-center gap-1 px-4 py-2 rounded-full text-sm font-black;
        @apply backdrop-blur-[14px] backdrop-saturate-150;

        background: rgba(255, 255, 255, 0.55);
        border: 1.5px solid rgba(0, 0, 0, 0.06);
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.08);
    }

    .spot-card-nearby[data-category] .spot-card-nearby_rating {
        border-color: rgba(var(--nearby-tint) / 0.32);
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.08),
        0 0 0 1px rgba(var(--nearby-tint) / 0.18);
    }

    .spot-card-nearby__rating-value {
        color: var(--color-text_color);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.10);
    }

    .spot-card-nearby_rating-star {
        @apply w-3.5 h-3.5 object-contain;
    }

    .spot-card-nearby_card:active {
        transform: scale(0.985);
        box-shadow: 0 0 0 2px rgba(var(--nearby-tint) / 0.45),
        0 16px 30px rgba(0, 0, 0, 0.16);
    }


    /*    Top Rated Spots */
    .spot-card-toprated[data-category="food"] {
        --spot-tint: var(--cat-food);
    }

    .spot-card-toprated[data-category="culture"] {
        --spot-tint: var(--cat-culture);
    }

    .spot-card-toprated[data-category="nature"] {
        --spot-tint: var(--cat-nature);
    }

    .spot-card-toprated[data-category="mystery"] {
        --spot-tint: var(--cat-mystery);
    }

    @keyframes pulse-rating {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.02);
        }
    }

    .spot-card-toprated {
        @apply relative flex rounded-2xl overflow-hidden shrink-0 w-full;
        @apply items-center;

        height: 110px;
        padding: 0;
        scroll-snap-align: start;
        transition: transform 0.18s ease, box-shadow 0.18s ease;

        @apply backdrop-blur-[22px] backdrop-saturate-170;
        border: 1px solid rgba(255, 255, 255, 0.32);
        background: linear-gradient(
                145deg,
                rgba(255, 255, 255, 0.18),
                rgba(255, 255, 255, 0.06)
        );

        box-shadow: 0 10px 26px rgba(0, 0, 0, 0.12);
    }

    .spot-card-toprated::before {
        content: "";
        position: absolute;
        inset: -10px;
        border-radius: 22px;
        z-index: 0;
        pointer-events: none;

        opacity: 1;
        transform: scale(1.02);
        filter: blur(8px) saturate(1.6);

        background: radial-gradient(
                circle at 28% 18%,
                rgba(255, 255, 255, 0.22) 0%,
                rgba(255, 255, 255, 0.10) 28%,
                transparent 55%
        ),
        radial-gradient(
                circle,
                transparent 0 70%,
                rgba(var(--spot-tint) / 0.20) 73%,
                rgba(var(--spot-tint) / 0.65) 82%,
                rgba(var(--spot-tint) / 0.55) 100%
        );
    }

    .spot-card-toprated::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 16px;
        z-index: 1;
        pointer-events: none;

        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.26),
        inset 0 0 0 2px rgba(255, 255, 255, 0.10),
        0 0 0 2px rgba(var(--spot-tint) / 0.32);

        opacity: 0.95;
    }

    .spot-card-toprated > * {
        position: relative;
        z-index: 2;
    }

    .spot-card-toprated:active {
        transform: scale(0.985);
        box-shadow: 0 16px 32px rgba(0, 0, 0, 0.16);
    }

    .spot-card-toprated [data-slot="image"] {
        @apply w-24 h-24 overflow-hidden shrink-0 rounded-lg relative block ml-2;
        background: rgba(0, 0, 0, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.20);
    }

    .spot-card-toprated [data-slot="image"] > img {
        @apply w-full h-full object-cover block;
        transition: transform 0.35s ease;
    }

    .spot-card-toprated:active [data-slot="image"] > img {
        transform: scale(1.03);
    }

    .spot-card-toprated [data-slot="distance"] {
        @apply absolute bottom-0 left-3 right-3 flex items-center justify-center gap-1.5 px-3 py-1.5;
        @apply backdrop-blur-[16px] backdrop-saturate-160;
        border-radius: 999px;

        background: rgba(0, 0, 0, 0.45);
        border: 1px solid rgba(255, 255, 255, 0.18);
        color: white;
    }

    .spot-card-toprated [data-slot="distance-text"] {
        @apply text-xs font-bold text-white pl-2;
        font-family: "Montserrat", sans-serif;
        white-space: nowrap;
    }

    .spot-card-toprated [data-slot="info"] {
        @apply flex flex-col justify-between gap-1 px-1 pr-6 py-2 relative;
        flex: 1;
        min-width: 0;
        text-align: center;
        margin: 0 auto;
    }

    .spot-card-toprated [data-slot="title"] {
        @apply text-lg font-bold uppercase leading-tight text-center w-full line-clamp-2 break-words;
        color: var(--color-text_color);
        line-height: 1.2;
        font-family: "Montserrat", sans-serif;
        letter-spacing: 0.06em;
    }

    .spot-card-toprated [data-slot="rating-row"] {
        @apply flex items-center justify-center w-full;
    }

    .spot-card-toprated [data-slot="rating-pill"] {
        @apply inline-flex items-center gap-1.5 px-4 py-2 rounded-full;
        @apply backdrop-blur-[14px] backdrop-saturate-150;

        background: rgba(255, 255, 255, 0.55);
        border: 1.5px solid rgba(var(--spot-tint) / 0.32);
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.08),
        0 0 0 1px rgba(var(--spot-tint) / 0.16);

        transition: transform 0.18s ease;
        animation: pulse-rating 3s ease-in-out infinite;
    }

    .spot-card-toprated [data-slot="rating-pill"]:hover {
        transform: scale(1.05);
    }

    .spot-card-toprated [data-slot="rating-pill"]:active {
        transform: scale(0.95);
    }

    .spot-card-toprated [data-slot="rating-value"] {
        color: #222 !important;
        font-size: 1.15em;
        font-weight: 700;
        min-width: 2ch;
        margin-right: 0.3em;
    }

    .spot-card-toprated [data-slot="rating-star"] {
        @apply w-4 h-4;
    }

    .spot-card-toprated [data-slot="bookmark"] {
        @apply absolute grid place-items-center;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);

        width: 48px;
        height: 48px;
        border-radius: 14px;

        @apply backdrop-blur-[18px] backdrop-saturate-160;
        background: rgba(255, 255, 255, 0.22);
        border: 1px solid rgba(255, 255, 255, 0.42);

        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.14),
        inset 0 0 0 1px rgba(255, 255, 255, 0.18);

        z-index: 20;
        transition: transform 0.15s ease;
        cursor: pointer;
    }

    .spot-card-toprated [data-slot="bookmark"]:active {
        transform: translateY(-50%) scale(0.96);
    }

    .spot-card-toprated [data-slot="bookmark"] .bookmark-icon {
        @apply w-9 h-9;
        filter: saturate(1.3) contrast(1.05);
    }





}
